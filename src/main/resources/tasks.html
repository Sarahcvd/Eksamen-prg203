<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Tasks</title>
        <link rel="stylesheet" type="text/css" href="style.css">
    </head>
    <body>

        <h1>Task overview</h1>
        <a href="index.html">Return to menu</a>
        <div>
            <button onClick="showAllTasks()">Show all tasks</button>
        </div>
        <div id="tasks"></div>

        <form>
            <p>
                Filter by worker: <select id="id" name="id"></select>
                <button>Filter</button>
            </p>
            <p>
                Filter by status: <select id="statusColorCode" name="statusColorCode"></select>
                <button>Filter</button>
            </p>
        </form>

    </body>
    <script>
        function showAllTasks(){
            fetch("/api/tasks" + location.search).then(response => response.text()).then(html => {
                document.getElementById("tasks").innerHTML = html
            });
        }
        fetch("/api/workerOptions").then(response => response.text()).then(html => {
            document.getElementById("id").innerHTML = html
        });
        fetch("/api/taskOptions").then(response => response.text()).then(html => {
            document.getElementById("statusColorCode").innerHTML = html
        });

    </script>
</html>